<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.jsæœ¬åœ°åŠ è½½æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #1a1a1a;
            color: #fff;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .success {
            background-color: #28a745;
        }
        .error {
            background-color: #dc3545;
        }
        .warning {
            background-color: #ffc107;
            color: #000;
        }
        .info {
            background-color: #17a2b8;
        }
        #log {
            background-color: #2d2d2d;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>Three.jsæœ¬åœ°åŠ è½½æµ‹è¯•</h1>
    
    <div id="status" class="status info">æ­£åœ¨æµ‹è¯•...</div>
    
    <div id="results">
        <h3>æµ‹è¯•ç»“æœï¼š</h3>
        <div id="log"></div>
    </div>

    <script>
        const log = document.getElementById('log');
        const status = document.getElementById('status');
        
        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            log.textContent += `[${timestamp}] ${message}\n`;
            log.scrollTop = log.scrollHeight;
            console.log(message);
        }
        
        function updateStatus(message, className) {
            status.textContent = message;
            status.className = `status ${className}`;
        }
        
        // æµ‹è¯•æ­¥éª¤
        addLog('ğŸ¬ å¼€å§‹Three.jsæœ¬åœ°åŠ è½½æµ‹è¯•');
        addLog('ğŸ“ å½“å‰é¡µé¢URL: ' + window.location.href);
        addLog('ğŸ“ é¢„æœŸThree.jsè·¯å¾„: js/libs/three.min.js');
        
        // ç½‘ç»œè¯Šæ–­
        addLog('ğŸ” ç½‘ç»œç¯å¢ƒè¯Šæ–­:');
        addLog('- åœ¨çº¿çŠ¶æ€: ' + navigator.onLine);
        addLog('- ç”¨æˆ·ä»£ç†: ' + navigator.userAgent);
        addLog('- åè®®: ' + window.location.protocol);
        
        // å°è¯•åŠ è½½æœ¬åœ°Three.js
        addLog('ğŸ”„ å¼€å§‹åŠ è½½æœ¬åœ°Three.jsæ–‡ä»¶...');
        updateStatus('æ­£åœ¨åŠ è½½æœ¬åœ°Three.js...', 'warning');
        
        const script = document.createElement('script');
        script.src = 'js/libs/three.min.js';
        
        const startTime = Date.now();
        
        script.onload = function() {
            const loadTime = Date.now() - startTime;
            addLog(`âœ… Three.jsæ–‡ä»¶åŠ è½½æˆåŠŸ (${loadTime}ms)`);
            
            // éªŒè¯THREEå¯¹è±¡
            if (typeof THREE !== 'undefined') {
                addLog('âœ… THREEå¯¹è±¡å¯ç”¨');
                addLog('ğŸ“¦ Three.jsç‰ˆæœ¬: ' + THREE.REVISION);
                
                // æµ‹è¯•åŸºæœ¬åŠŸèƒ½
                try {
                    const scene = new THREE.Scene();
                    const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
                    const renderer = new THREE.WebGLRenderer();
                    
                    addLog('âœ… Three.jsåŸºæœ¬å¯¹è±¡åˆ›å»ºæˆåŠŸ');
                    addLog('ğŸ‰ æœ¬åœ°Three.jsåŠ è½½æµ‹è¯•å®Œå…¨æˆåŠŸï¼');
                    updateStatus('æœ¬åœ°Three.jsåŠ è½½æˆåŠŸï¼', 'success');
                    
                } catch (error) {
                    addLog('âŒ Three.jsåŸºæœ¬åŠŸèƒ½æµ‹è¯•å¤±è´¥: ' + error.message);
                    updateStatus('Three.jsåŠŸèƒ½æµ‹è¯•å¤±è´¥', 'error');
                }
                
            } else {
                addLog('âŒ THREEå¯¹è±¡æœªå®šä¹‰');
                updateStatus('THREEå¯¹è±¡æœªå®šä¹‰', 'error');
            }
        };
        
        script.onerror = function(error) {
            const loadTime = Date.now() - startTime;
            addLog(`âŒ Three.jsæ–‡ä»¶åŠ è½½å¤±è´¥ (${loadTime}ms)`);
            addLog('é”™è¯¯è¯¦æƒ…: ' + JSON.stringify(error));
            updateStatus('æœ¬åœ°Three.jsåŠ è½½å¤±è´¥', 'error');
            
            // è¯Šæ–­å¯èƒ½çš„é—®é¢˜
            addLog('ğŸ” å¯èƒ½çš„é—®é¢˜:');
            addLog('- æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®');
            addLog('- æ–‡ä»¶æŸåæˆ–ä¸å®Œæ•´');
            addLog('- æœåŠ¡å™¨MIMEç±»å‹é…ç½®é—®é¢˜');
            addLog('- æµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶');
        };
        
        // è®¾ç½®è¶…æ—¶
        setTimeout(function() {
            if (typeof THREE === 'undefined') {
                addLog('â° åŠ è½½è¶…æ—¶ (5ç§’)');
                updateStatus('åŠ è½½è¶…æ—¶', 'error');
            }
        }, 5000);
        
        // æ·»åŠ åˆ°é¡µé¢
        document.head.appendChild(script);
        addLog('ğŸ“¤ Three.js scriptæ ‡ç­¾å·²æ·»åŠ åˆ°é¡µé¢');
    </script>
</body>
</html> 